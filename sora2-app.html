<!DOCTYPE html>
<!--
    SORA 2 VIDEO GENERATION APP - OPEN SOURCE
    
    üéâ Don't have an invite code or iOS? Use Sora 2 here!
    
    Skip the waitlist and iOS requirement. This free, open-source app lets you access 
    OpenAI's Sora 2 Video API directly in your browser - works on ANY device!
    
    ‚ö†Ô∏è IMPORTANT REQUIREMENTS:
    ‚úì ORGANIZATION MUST BE VERIFIED - Check at https://platform.openai.com/settings/organization/general
    ‚úó FREE TIER NOT SUPPORTED - You MUST have a paid OpenAI account
    ‚úì Billing must be set up at https://platform.openai.com/account/billing
    ‚úì Minimum Tier 1 usage level required
    ‚úì Rate limits apply based on your tier (Tier 1: 2 videos/min, Tier 2: 5/min, etc.)
    
    SETUP (Super Simple):
    1. Verify your OpenAI organization at https://platform.openai.com/settings/organization/general
    2. Set up billing on your OpenAI account (free tier won't work)
    3. Get your API key from: https://platform.openai.com/api-keys
    4. Open this file in your browser (Windows, Mac, Linux, Android - anything!)
    5. Click "Settings" and enter your API key
    6. Start generating videos instantly!
    
    WHY USE THIS APP?
    ‚úì No invite code needed
    ‚úì No iOS device required  
    ‚úì Works in any web browser
    ‚úì No app download or installation
    ‚úì Direct API access - same quality as the official app
    ‚úì Open source and transparent
    
    NOTE: You still need a verified, paid OpenAI account to use the API - 
    but you skip the invite-only iOS app and can use it from any device!
    
    RATE LIMITS BY TIER:
    - Free Tier: NOT SUPPORTED (you must have a paid account)
    - Tier 1: 2 requests per minute (RPM)
    - Tier 2: 5 RPM
    - Tier 3: 10 RPM
    - Tier 4: 25 RPM
    - Tier 5: 40 RPM
    
    Your tier increases automatically as you use the API more.
    Check your tier at: https://platform.openai.com/account/limits
    
    OFFICIAL API DOCUMENTATION:
    https://platform.openai.com/docs/guides/video
    
    PRICING (Charged directly to your OpenAI account):
    - sora-2 model: $0.10 per second
    - sora-2-pro model: $0.30 per second (720p), $0.50 per second (1024p)
    - Supported durations: 4, 8, or 12 seconds
    - Supported resolutions: 1280x720, 1792x1024, and variations
    
    FEATURES:
    - Real OpenAI Sora 2 API integration
    - Asynchronous job polling with progress tracking
    - No signup, no subscriptions, no middle-man
    - Generation history with localStorage persistence
    - Video download and sharing
    - Beautiful, responsive design with animations
    
    Your API key is stored locally in your browser and never sent anywhere except OpenAI.
    
    GitHub: https://github.com/yourusername/sora2-open-source
    License: MIT
-->
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Don't have an invite code or iOS? Use Sora 2 here! Free, open-source web app to access OpenAI's Sora 2 Video API directly. Works on any device. Requires verified, paid OpenAI account.">
    <meta property="og:title" content="Sora 2 - No Invite or iOS Needed! Generate AI Videos Now">
    <meta property="og:description" content="Skip the waitlist and iOS requirement. Access Sora 2 API directly in your browser with your OpenAI API key. Requires verified organization.">
    <meta property="og:type" content="website">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Sora 2 - No Invite or iOS Needed!">
    <meta name="twitter:description" content="Free open-source app to use OpenAI's Sora 2 Video API on any device. Verified OpenAI org required.">
    <title>Sora 2 - No Invite or iOS Needed! Generate AI Videos Now</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap');
        
        * {
            font-family: 'Inter', sans-serif;
        }

        @keyframes gradient {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .gradient-bg {
            background: linear-gradient(-45deg, #667eea 0%, #764ba2 25%, #f093fb 50%, #4facfe 75%, #667eea 100%);
            background-size: 400% 400%;
            animation: gradient 15s ease infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
        }

        .float-animation {
            animation: float 6s ease-in-out infinite;
        }

        .glass-effect {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        @keyframes pulse-ring {
            0% {
                transform: scale(0.8);
                opacity: 1;
            }
            100% {
                transform: scale(2.4);
                opacity: 0;
            }
        }

        .pulse-ring {
            animation: pulse-ring 2s cubic-bezier(0.455, 0.03, 0.515, 0.955) infinite;
        }

        @keyframes slideInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .slide-in-up {
            animation: slideInUp 0.5s ease-out;
        }

        .custom-scrollbar::-webkit-scrollbar {
            width: 8px;
        }

        .custom-scrollbar::-webkit-scrollbar-track {
            background: #1a1a2e;
        }

        .custom-scrollbar::-webkit-scrollbar-thumb {
            background: #667eea;
            border-radius: 4px;
        }

        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
            background: #764ba2;
        }
    </style>
</head>
<body class="m-0 p-0 overflow-x-hidden">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // Icon Components
        const VideoIcon = () => (
            <svg className="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z" />
            </svg>
        );

        const SparklesIcon = () => (
            <svg className="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z" />
            </svg>
        );

        const SettingsIcon = () => (
            <svg className="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z" />
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
            </svg>
        );

        const DownloadIcon = () => (
            <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4" />
            </svg>
        );

        const CheckIcon = () => (
            <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M5 13l4 4L19 7" />
            </svg>
        );

        const LoadingIcon = () => (
            <svg className="w-5 h-5 animate-spin" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15" />
            </svg>
        );

        const GithubIcon = () => (
            <svg className="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
                <path fillRule="evenodd" d="M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z" clipRule="evenodd" />
            </svg>
        );

        // Main App Component
        function App() {
            const [prompt, setPrompt] = useState('');
            const [resolution, setResolution] = useState('720p');
            const [aspectRatio, setAspectRatio] = useState('16:9');
            const [duration, setDuration] = useState(4);
            const [isGenerating, setIsGenerating] = useState(false);
            const [progress, setProgress] = useState(0);
            const [generatedVideo, setGeneratedVideo] = useState(null);
            const [generationHistory, setGenerationHistory] = useState([]);
            const [apiKey, setApiKey] = useState('');
            const [tempApiKey, setTempApiKey] = useState('');
            const [showSettings, setShowSettings] = useState(false);

            useEffect(() => {
                // Load API key from localStorage
                const savedApiKey = localStorage.getItem('openai_api_key');
                if (savedApiKey) {
                    setApiKey(savedApiKey);
                }
                
                // Load generation history from localStorage
                const savedHistory = localStorage.getItem('sora2_history');
                if (savedHistory) {
                    try {
                        setGenerationHistory(JSON.parse(savedHistory));
                    } catch (e) {
                        console.error('Failed to load history:', e);
                    }
                }
            }, []);

            const calculateCost = () => {
                let baseRate;
                
                if (resolution === '1024p') {
                    // sora-2-pro pricing
                    baseRate = 0.50; // High resolution
                } else {
                    // sora-2 pricing (720p)
                    baseRate = 0.10;
                }
                
                return (baseRate * duration).toFixed(2);
            };

            const handleGenerate = async () => {
                if (!prompt.trim()) {
                    alert('Please enter a video prompt');
                    return;
                }

                if (!apiKey) {
                    alert('Please set your OpenAI API key in Settings first');
                    setShowSettings(true);
                    return;
                }

                setIsGenerating(true);
                setProgress(0);
                setGeneratedVideo(null);

                try {
                    // Create video generation job
                    const jobId = await createVideoJob();
                    
                    // Poll for job completion
                    const videoUrl = await pollJobStatus(jobId);

                    // Add to history
                    const newVideo = {
                        id: Date.now(),
                        prompt: prompt,
                        resolution: resolution,
                        duration: duration,
                        timestamp: new Date().toLocaleString(),
                        videoUrl: videoUrl,
                        cost: calculateCost()
                    };
                    
                    const updatedHistory = [newVideo, ...generationHistory].slice(0, 10);
                    setGeneratedVideo(newVideo);
                    setGenerationHistory(updatedHistory);
                    localStorage.setItem('sora2_history', JSON.stringify(updatedHistory));
                    setProgress(100);
                } catch (error) {
                    console.error('Generation error:', error);
                    
                    // Provide helpful error messages
                    let errorMessage = 'Failed to generate video. ';
                    
                    if (error.message.includes('401') || error.message.includes('authentication') || error.message.includes('Incorrect API key')) {
                        errorMessage += 'Invalid API key. Please check your OpenAI API key in Settings.';
                    } else if (error.message.includes('403') || error.message.includes('organization') || error.message.includes('verified')) {
                        errorMessage += 'Organization not verified or access denied. Your OpenAI organization must be verified to use the API. Check at https://platform.openai.com/settings/organization/general';
                    } else if (error.message.includes('429') || error.message.includes('Rate limit')) {
                        errorMessage += 'Rate limit exceeded. Your API key tier has a limit on requests per minute (RPM). Please wait a moment and try again, or upgrade your usage tier at https://platform.openai.com/account/limits';
                    } else if (error.message.includes('402') || error.message.includes('insufficient') || error.message.includes('quota')) {
                        errorMessage += 'Insufficient quota or billing not set up. Please add a payment method and check your OpenAI account billing at https://platform.openai.com/account/billing';
                    } else if (error.message.includes('not supported') || error.message.includes('free tier')) {
                        errorMessage += 'Free tier is not supported for Sora 2 API. You need a paid OpenAI account with billing set up. Please add a payment method at https://platform.openai.com/account/billing';
                    } else if (error.message.includes('timeout')) {
                        errorMessage += 'Request timed out. The video may take longer to generate.';
                    } else if (error.message.includes('content_policy') || error.message.includes('policy')) {
                        errorMessage += 'Your prompt was rejected for policy reasons. Please modify your prompt to comply with OpenAI usage policies.';
                    } else {
                        errorMessage += error.message;
                    }
                    
                    alert(errorMessage);
                } finally {
                    setTimeout(() => {
                        setIsGenerating(false);
                        setProgress(0);
                    }, 1000);
                }
            };

            const createVideoJob = async () => {
                setProgress(10);
                
                // Correct model name based on resolution
                const modelName = resolution === '1024p' ? 'sora-2-pro' : 'sora-2';
                
                // Map resolution to size format (e.g., "1280x720")
                const sizeMap = {
                    '720p': '1280x720',
                    '1024p': '1792x1024'
                };
                
                // Convert aspect ratio to size if needed
                let size = sizeMap[resolution] || '1280x720';
                
                // Adjust size based on aspect ratio
                if (aspectRatio === '9:16') {
                    size = resolution === '1024p' ? '1024x1792' : '720x1280';
                } else if (aspectRatio === '1:1') {
                    size = resolution === '1024p' ? '1024x1024' : '720x720';
                }
                
                const response = await fetch('https://api.openai.com/v1/videos', {
                    method: 'POST',
                    headers: {
                        'Authorization': `Bearer ${apiKey}`,
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        model: modelName,
                        prompt: prompt,
                        size: size,
                        seconds: duration.toString()
                    })
                });

                if (!response.ok) {
                    const errorData = await response.json();
                    throw new Error(errorData.error?.message || `API Error: ${response.status}`);
                }

                const data = await response.json();
                setProgress(20);
                return data.id;
            };

            const pollJobStatus = async (videoId) => {
                const maxAttempts = 120; // 10 minutes max (5 second intervals)
                let attempts = 0;

                while (attempts < maxAttempts) {
                    const response = await fetch(`https://api.openai.com/v1/videos/${videoId}`, {
                        headers: {
                            'Authorization': `Bearer ${apiKey}`
                        }
                    });

                    if (!response.ok) {
                        throw new Error(`Failed to check job status: ${response.status}`);
                    }

                    const data = await response.json();
                    const status = data.status;
                    const progress = data.progress || 0;

                    if (status === 'completed') {
                        setProgress(90);
                        return await downloadVideo(videoId);
                    } else if (status === 'failed') {
                        throw new Error('Video generation failed');
                    } else if (status === 'cancelled') {
                        throw new Error('Video generation was cancelled');
                    }

                    // Update progress based on API response
                    if (progress > 0) {
                        setProgress(20 + (progress * 0.7)); // Scale 0-100 to 20-90
                    } else {
                        const progressValue = 20 + (attempts / maxAttempts) * 70;
                        setProgress(progressValue);
                    }

                    // Wait 5 seconds before next poll (or 10-20 seconds as recommended)
                    await new Promise(resolve => setTimeout(resolve, 10000));
                    attempts++;
                }

                throw new Error('Video generation timed out');
            };

            const downloadVideo = async (videoId) => {
                const response = await fetch(`https://api.openai.com/v1/videos/${videoId}/content`, {
                    headers: {
                        'Authorization': `Bearer ${apiKey}`
                    }
                });

                if (!response.ok) {
                    throw new Error(`Failed to download video: ${response.status}`);
                }

                const blob = await response.blob();
                const videoUrl = URL.createObjectURL(blob);
                
                return videoUrl;
            };

            const handleDownloadVideo = (videoUrl, prompt) => {
                const link = document.createElement('a');
                link.href = videoUrl;
                link.download = `sora2-${Date.now()}.mp4`;
                link.target = '_blank';
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
            };

            const handleShareVideo = async (videoUrl, prompt) => {
                if (navigator.share) {
                    try {
                        const response = await fetch(videoUrl);
                        const blob = await response.blob();
                        const file = new File([blob], 'sora2-video.mp4', { type: 'video/mp4' });
                        
                        await navigator.share({
                            title: 'Sora 2 Generated Video',
                            text: prompt,
                            files: [file]
                        });
                    } catch (error) {
                        console.error('Share failed:', error);
                        await copyVideoLink(videoUrl);
                    }
                } else {
                    await copyVideoLink(videoUrl);
                }
            };

            const copyVideoLink = async (videoUrl) => {
                try {
                    await navigator.clipboard.writeText(videoUrl);
                    alert('Video link copied to clipboard!');
                } catch (error) {
                    alert('Unable to share video. Please download and share manually.');
                }
            };

            const handleSaveApiKey = () => {
                if (tempApiKey.trim()) {
                    localStorage.setItem('openai_api_key', tempApiKey.trim());
                    setApiKey(tempApiKey.trim());
                    setShowSettings(false);
                    setTempApiKey('');
                    alert('API key saved successfully!');
                } else {
                    alert('Please enter a valid API key');
                }
            };

            const handleRemoveApiKey = () => {
                if (confirm('Are you sure you want to remove your API key?')) {
                    localStorage.removeItem('openai_api_key');
                    setApiKey('');
                    setTempApiKey('');
                    alert('API key removed');
                }
            };

            return (
                <div className="min-h-screen bg-gray-900 text-white">
                    {/* Animated Background */}
                    <div className="fixed inset-0 gradient-bg opacity-20 pointer-events-none"></div>
                    
                    {/* Header */}
                    <header className="relative z-10 border-b border-gray-800">
                        <div className="container mx-auto px-4 py-6">
                            <div className="flex items-center justify-between">
                                <div className="flex items-center space-x-3">
                                    <div className="relative">
                                        <div className="absolute inset-0 bg-purple-500 rounded-lg blur-xl opacity-50 pulse-ring"></div>
                                        <div className="relative bg-gradient-to-r from-purple-500 to-pink-500 p-3 rounded-lg">
                                            <VideoIcon />
                                        </div>
                                    </div>
                                    <div>
                                        <h1 className="text-3xl font-bold bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent">
                                            Sora 2 Studio
                                        </h1>
                                        <p className="text-sm text-green-400 font-semibold">Don't have an invite code or iOS? Use Sora 2 here!</p>
                                    </div>
                                </div>
                                <div className="flex items-center space-x-4">
                                    <a
                                        href="https://github.com/OlexiyPukhov/sora2-open-source"
                                        target="_blank"
                                        rel="noopener noreferrer"
                                        className="flex items-center space-x-2 px-4 py-2 bg-gray-800 hover:bg-gray-700 rounded-lg transition-all"
                                    >
                                        <GithubIcon />
                                        <span className="hidden md:inline">Star on GitHub</span>
                                    </a>
                                    <button
                                        onClick={() => {
                                            setTempApiKey(apiKey);
                                            setShowSettings(true);
                                        }}
                                        className={`px-4 py-2 rounded-lg transition-all flex items-center space-x-2 ${
                                            apiKey 
                                                ? 'bg-green-600 hover:bg-green-700' 
                                                : 'bg-red-600 hover:bg-red-700 animate-pulse'
                                        }`}
                                    >
                                        <SettingsIcon />
                                        <span>{apiKey ? 'Settings' : 'Setup Required'}</span>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </header>

                    {/* Main Content */}
                    <main className="relative z-10 container mx-auto px-4 py-12">
                        {/* Marketing Banner */}
                        <div className="mb-8 slide-in-up">
                            <div className="glass-effect p-6 rounded-2xl border-2 border-green-500/30 bg-gradient-to-r from-green-900/20 to-emerald-900/20">
                                <div className="flex items-center space-x-4">
                                    <div className="flex-shrink-0">
                                        <div className="w-12 h-12 bg-green-500 rounded-full flex items-center justify-center">
                                            <CheckIcon />
                                        </div>
                                    </div>
                                    <div className="flex-1">
                                        <h3 className="text-xl font-bold text-green-400 mb-1 flex items-center">
                                            <SparklesIcon />
                                            <span className="ml-2">No Invite Code or iOS Required!</span>
                                        </h3>
                                        <p className="text-gray-300">
                                            Skip the waitlist and iOS requirement. Access OpenAI's Sora 2 API directly in your browser with just your API key. 
                                            No app download needed - works on any device!
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </div>

                        {/* Important Notice - Rate Limits */}
                        <div className="mb-8 slide-in-up">
                            <div className="glass-effect p-6 rounded-2xl border-2 border-yellow-500/30 bg-gradient-to-r from-yellow-900/20 to-orange-900/20">
                                <div className="flex items-start space-x-4">
                                    <div className="flex-shrink-0 mt-1">
                                        <svg className="w-6 h-6 text-yellow-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z" />
                                        </svg>
                                    </div>
                                    <div className="flex-1">
                                        <h3 className="text-lg font-bold text-yellow-400 mb-2">‚ö†Ô∏è Important: API Requirements</h3>
                                        <div className="space-y-2 text-sm text-gray-300">
                                            <p>
                                                <strong className="text-yellow-400">‚Ä¢ Organization must be verified:</strong> Your OpenAI organization needs to be verified before you can use the API. This is a separate requirement from having an API key.
                                            </p>
                                            <p>
                                                <strong className="text-yellow-400">‚Ä¢ Free tier is NOT supported:</strong> You need a paid OpenAI account with billing set up. Sora 2 API requires at least Tier 1 usage level.
                                            </p>
                                            <p>
                                                <strong className="text-yellow-400">‚Ä¢ Rate limits apply:</strong> Your tier determines how many videos you can generate per minute (Tier 1: 2/min, Tier 2: 5/min, etc.). You may encounter rate limit errors depending on your API key's tier.
                                            </p>
                                            <p>
                                                <strong className="text-yellow-400">‚Ä¢ Usage costs:</strong> You'll be charged $0.10 per second (720p) or $0.30-$0.50 per second (1024p) directly to your OpenAI account.
                                            </p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div className="grid grid-cols-1 lg:grid-cols-3 gap-8">
                            {/* Left Panel - Input Controls */}
                            <div className="lg:col-span-2 space-y-6 slide-in-up">
                                <div className="glass-effect p-8 rounded-2xl">
                                    <h2 className="text-2xl font-bold mb-6 flex items-center">
                                        <SparklesIcon />
                                        <span className="ml-2">Create Your Video</span>
                                    </h2>
                                    
                                    {/* Prompt Input */}
                                    <div className="mb-6">
                                        <label className="block text-sm font-medium mb-2">Video Prompt</label>
                                        <textarea
                                            value={prompt}
                                            onChange={(e) => setPrompt(e.target.value)}
                                            className="w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all resize-none"
                                            rows="4"
                                            placeholder="Describe your video in detail... e.g., 'A dramatic Hollywood breakup scene at dusk on a quiet suburban street. Cinematic lighting, warm sunset tones, shallow depth of field...'"
                                        />
                                        
                                        {/* Example Prompts */}
                                        <div className="mt-3 flex flex-wrap gap-2">
                                            <span className="text-xs text-gray-400 w-full mb-1">Quick examples:</span>
                                            {[
                                                "A cat playing piano in a jazz club, cinematic lighting, 4K quality",
                                                "Drone footage of a sunset over ocean waves, golden hour, slow motion",
                                                "Chef preparing sushi in modern kitchen, close-up shots, professional lighting"
                                            ].map((example, idx) => (
                                                <button
                                                    key={idx}
                                                    onClick={() => setPrompt(example)}
                                                    className="text-xs px-3 py-1 bg-gray-800 hover:bg-gray-700 border border-gray-700 rounded-full transition-all"
                                                >
                                                    {example.substring(0, 40)}...
                                                </button>
                                            ))}
                                        </div>
                                    </div>

                                    {/* Settings Grid */}
                                    <div className="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
                                        <div>
                                            <label className="block text-sm font-medium mb-2">Resolution</label>
                                            <select
                                                value={resolution}
                                                onChange={(e) => setResolution(e.target.value)}
                                                className="w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"
                                            >
                                                <option value="720p">720p (1280x720)</option>
                                                <option value="1024p">1024p (1792x1024) - Pro</option>
                                            </select>
                                        </div>
                                        
                                        <div>
                                            <label className="block text-sm font-medium mb-2">Aspect Ratio</label>
                                            <select
                                                value={aspectRatio}
                                                onChange={(e) => setAspectRatio(e.target.value)}
                                                className="w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"
                                            >
                                                <option value="16:9">16:9 Landscape</option>
                                                <option value="9:16">9:16 Portrait</option>
                                                <option value="1:1">1:1 Square</option>
                                            </select>
                                        </div>
                                        
                                        <div>
                                            <label className="block text-sm font-medium mb-2">Duration</label>
                                            <select
                                                value={duration}
                                                onChange={(e) => setDuration(parseInt(e.target.value))}
                                                className="w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"
                                            >
                                                <option value="4">4 seconds</option>
                                                <option value="8">8 seconds</option>
                                                <option value="12">12 seconds</option>
                                            </select>
                                        </div>
                                    </div>

                                    {/* Cost Estimate */}
                                    <div className="bg-gradient-to-r from-purple-900/30 to-pink-900/30 border border-purple-500/30 rounded-lg p-4 mb-6">
                                        <div className="flex justify-between items-center">
                                            <div>
                                                <span className="text-gray-300 text-sm">Estimated Cost</span>
                                                <p className="text-xs text-gray-400 mt-1">Charged to your OpenAI account</p>
                                            </div>
                                            <span className="text-2xl font-bold text-purple-400">${calculateCost()}</span>
                                        </div>
                                    </div>

                                    {/* Generate Button */}
                                    <button
                                        onClick={handleGenerate}
                                        disabled={isGenerating || !apiKey}
                                        className={`w-full py-4 rounded-lg font-bold text-lg transition-all transform ${
                                            isGenerating || !apiKey
                                                ? 'bg-gray-700 cursor-not-allowed'
                                                : 'bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 hover:scale-105'
                                        }`}
                                    >
                                        {isGenerating ? (
                                            <div className="flex items-center justify-center space-x-2">
                                                <LoadingIcon />
                                                <span>Generating... {progress.toFixed(0)}%</span>
                                            </div>
                                        ) : !apiKey ? (
                                            'Please Set API Key First'
                                        ) : (
                                            <div className="flex items-center justify-center space-x-2">
                                                <SparklesIcon />
                                                <span>Generate Video</span>
                                            </div>
                                        )}
                                    </button>

                                    {/* Progress Bar */}
                                    {isGenerating && (
                                        <div className="mt-4 bg-gray-800 rounded-full h-2 overflow-hidden">
                                            <div
                                                className="bg-gradient-to-r from-purple-500 to-pink-500 h-full transition-all duration-500"
                                                style={{ width: `${progress}%` }}
                                            />
                                        </div>
                                    )}
                                </div>

                                {/* Generated Video Display */}
                                {generatedVideo && (
                                    <div className="glass-effect p-8 rounded-2xl slide-in-up">
                                        <h3 className="text-xl font-bold mb-4">Your Generated Video</h3>
                                        <div className="bg-gray-800 rounded-lg overflow-hidden mb-4">
                                            <video
                                                controls
                                                className="w-full"
                                                src={generatedVideo.videoUrl}
                                            >
                                                Your browser does not support the video tag.
                                            </video>
                                        </div>
                                        <div className="mb-4 p-3 bg-gray-800/50 rounded-lg">
                                            <p className="text-sm text-gray-400 mb-1">Prompt:</p>
                                            <p className="text-sm text-gray-200">{generatedVideo.prompt}</p>
                                            <div className="flex justify-between items-center mt-2 text-xs text-gray-500">
                                                <span>{generatedVideo.resolution} ‚Ä¢ {generatedVideo.duration}s</span>
                                                <span>Cost: ${generatedVideo.cost}</span>
                                            </div>
                                        </div>
                                        <div className="flex space-x-3">
                                            <button 
                                                onClick={() => handleDownloadVideo(generatedVideo.videoUrl, generatedVideo.prompt)}
                                                className="flex-1 px-4 py-3 bg-purple-500 hover:bg-purple-600 rounded-lg font-semibold transition-all flex items-center justify-center space-x-2"
                                            >
                                                <DownloadIcon />
                                                <span>Download</span>
                                            </button>
                                            <button 
                                                onClick={() => handleShareVideo(generatedVideo.videoUrl, generatedVideo.prompt)}
                                                className="px-4 py-3 bg-gray-700 hover:bg-gray-600 rounded-lg font-semibold transition-all"
                                            >
                                                Share
                                            </button>
                                        </div>
                                    </div>
                                )}
                            </div>

                            {/* Right Panel - History & Info */}
                            <div className="space-y-6">
                                {/* Quick Stats */}
                                <div className="glass-effect p-6 rounded-2xl">
                                    <h3 className="text-lg font-bold mb-4">Why Use This App?</h3>
                                    <div className="space-y-3">
                                        <div className="flex items-center p-3 bg-green-900/20 border border-green-500/30 rounded-lg">
                                            <CheckIcon />
                                            <span className="text-green-400 ml-2 text-sm font-semibold">No Invite Code</span>
                                        </div>
                                        <div className="flex items-center p-3 bg-green-900/20 border border-green-500/30 rounded-lg">
                                            <CheckIcon />
                                            <span className="text-green-400 ml-2 text-sm font-semibold">No iOS Required</span>
                                        </div>
                                        <div className="flex items-center p-3 bg-green-900/20 border border-green-500/30 rounded-lg">
                                            <CheckIcon />
                                            <span className="text-green-400 ml-2 text-sm font-semibold">Works Any Device</span>
                                        </div>
                                        <div className="flex justify-between items-center p-3 bg-gray-800/50 rounded-lg mt-4">
                                            <span className="text-gray-400">Videos Created</span>
                                            <span className="font-bold text-purple-400">{generationHistory.length}</span>
                                        </div>
                                        <div className="flex justify-between items-center p-3 bg-gray-800/50 rounded-lg">
                                            <span className="text-gray-400">API Status</span>
                                            <span className={`font-bold ${apiKey ? 'text-green-400' : 'text-red-400'}`}>
                                                {apiKey ? 'Connected' : 'Not Set'}
                                            </span>
                                        </div>
                                    </div>
                                </div>

                                {/* Generation History */}
                                <div className="glass-effect p-6 rounded-2xl">
                                    <h3 className="text-lg font-bold mb-4">Recent Generations</h3>
                                    <div className="space-y-3 custom-scrollbar max-h-96 overflow-y-auto">
                                        {generationHistory.length === 0 ? (
                                            <p className="text-gray-400 text-center py-8">No videos generated yet</p>
                                        ) : (
                                            generationHistory.map((video) => (
                                                <div 
                                                    key={video.id} 
                                                    onClick={() => setGeneratedVideo(video)}
                                                    className="p-3 bg-gray-800/50 rounded-lg hover:bg-gray-800 transition-all cursor-pointer"
                                                >
                                                    <p className="text-sm text-gray-300 line-clamp-2 mb-1">{video.prompt}</p>
                                                    <div className="flex justify-between items-center text-xs text-gray-500">
                                                        <span>{video.resolution} ‚Ä¢ ${video.cost}</span>
                                                        <span>{video.timestamp}</span>
                                                    </div>
                                                </div>
                                            ))
                                        )}
                                    </div>
                                </div>

                                {/* Model Info */}
                                <div className="glass-effect p-6 rounded-2xl">
                                    <h3 className="text-lg font-bold mb-4">Model Information</h3>
                                    <div className="space-y-2 text-sm">
                                        <div className="flex items-start space-x-2">
                                            <CheckIcon />
                                            <span className="text-gray-300">Synchronized audio generation</span>
                                        </div>
                                        <div className="flex items-start space-x-2">
                                            <CheckIcon />
                                            <span className="text-gray-300">Enhanced physics simulation</span>
                                        </div>
                                        <div className="flex items-start space-x-2">
                                            <CheckIcon />
                                            <span className="text-gray-300">Multi-shot consistency</span>
                                        </div>
                                        <div className="flex items-start space-x-2">
                                            <CheckIcon />
                                            <span className="text-gray-300">Cinematic quality output</span>
                                        </div>
                                    </div>
                                    <div className="mt-4 pt-4 border-t border-gray-700">
                                        <p className="text-xs text-gray-400 mb-2 font-semibold">Pricing:</p>
                                        <p className="text-xs text-gray-400">
                                            ‚Ä¢ sora-2: $0.10/second
                                        </p>
                                        <p className="text-xs text-gray-400">
                                            ‚Ä¢ sora-2-pro: $0.50/second (1024p)
                                        </p>
                                        <p className="text-xs text-gray-400 mt-2">
                                            Durations: 4, 8, or 12 seconds
                                        </p>
                                    </div>
                                    <div className="mt-4 pt-4 border-t border-gray-700">
                                        <p className="text-xs text-yellow-400 mb-2 font-semibold">‚ö†Ô∏è Rate Limits:</p>
                                        <p className="text-xs text-gray-400">
                                            Free tier: Not supported
                                        </p>
                                        <p className="text-xs text-gray-400">
                                            Tier 1: 2 videos/min
                                        </p>
                                        <p className="text-xs text-gray-400">
                                            Tier 2+: Higher limits
                                        </p>
                                        <a 
                                            href="https://platform.openai.com/account/limits" 
                                            target="_blank" 
                                            rel="noopener noreferrer"
                                            className="text-xs text-purple-400 hover:text-purple-300 underline mt-1 inline-block"
                                        >
                                            Check your tier ‚Üí
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </main>

                    {/* Settings Modal */}
                    {showSettings && (
                        <div className="fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4">
                            <div className="glass-effect p-8 rounded-2xl max-w-md w-full slide-in-up">
                                <h2 className="text-2xl font-bold mb-4">API Settings</h2>
                                <p className="text-gray-400 mb-4">
                                    Enter your OpenAI API key to start generating videos. 
                                    Get your key from{' '}
                                    <a 
                                        href="https://platform.openai.com/api-keys" 
                                        target="_blank" 
                                        rel="noopener noreferrer"
                                        className="text-purple-400 hover:text-purple-300 underline"
                                    >
                                        OpenAI Platform
                                    </a>
                                    . View the{' '}
                                    <a 
                                        href="https://platform.openai.com/docs/guides/video" 
                                        target="_blank" 
                                        rel="noopener noreferrer"
                                        className="text-purple-400 hover:text-purple-300 underline"
                                    >
                                        official API documentation
                                    </a>
                                    .
                                </p>
                                
                                {/* Requirements Warning */}
                                <div className="mb-4 bg-yellow-900/30 border border-yellow-500/30 rounded-lg p-4">
                                    <p className="text-sm text-yellow-300 font-semibold mb-2">‚ö†Ô∏è Requirements:</p>
                                    <ul className="text-xs text-yellow-200 space-y-1">
                                        <li>‚Ä¢ <strong>Organization verified</strong> - Your OpenAI org must be verified</li>
                                        <li>‚Ä¢ <strong>Paid account required</strong> - Free tier not supported</li>
                                        <li>‚Ä¢ <strong>Billing must be set up</strong> at OpenAI</li>
                                        <li>‚Ä¢ <strong>Minimum Tier 1</strong> usage level (2 videos/min)</li>
                                        <li>‚Ä¢ Rate limits: Tier 1: 2 RPM | Tier 2: 5 RPM | Tier 3: 10 RPM</li>
                                    </ul>
                                    <a 
                                        href="https://platform.openai.com/settings/organization/general" 
                                        target="_blank" 
                                        rel="noopener noreferrer"
                                        className="text-xs text-purple-400 hover:text-purple-300 underline mt-2 inline-block"
                                    >
                                        Check your organization status ‚Üí
                                    </a>
                                </div>
                                <input
                                    type="password"
                                    value={tempApiKey}
                                    onChange={(e) => setTempApiKey(e.target.value)}
                                    placeholder="sk-..."
                                    className="w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent mb-4"
                                />
                                <div className="bg-blue-900/30 border border-blue-500/30 rounded-lg p-3 mb-4">
                                    <p className="text-xs text-blue-300">
                                        üîí Your API key is stored locally in your browser and never sent anywhere except OpenAI.
                                    </p>
                                </div>
                                <div className="flex space-x-3">
                                    <button
                                        onClick={() => {
                                            setShowSettings(false);
                                            setTempApiKey('');
                                        }}
                                        className="flex-1 px-4 py-3 bg-gray-700 hover:bg-gray-600 rounded-lg font-semibold transition-all"
                                    >
                                        Cancel
                                    </button>
                                    {apiKey && (
                                        <button
                                            onClick={handleRemoveApiKey}
                                            className="px-4 py-3 bg-red-600 hover:bg-red-700 rounded-lg font-semibold transition-all"
                                        >
                                            Remove
                                        </button>
                                    )}
                                    <button
                                        onClick={handleSaveApiKey}
                                        className="flex-1 px-4 py-3 bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 rounded-lg font-semibold transition-all"
                                    >
                                        Save
                                    </button>
                                </div>
                            </div>
                        </div>
                    )}

                    {/* Footer */}
                    <footer className="relative z-10 border-t border-gray-800 mt-20">
                        <div className="container mx-auto px-4 py-8">
                            <div className="flex flex-col md:flex-row justify-between items-center">
                                <div className="mb-4 md:mb-0 text-center md:text-left">
                                    <p className="text-gray-400">
                                        ¬© 2025 Sora 2 Studio - Open Source
                                    </p>
                                    <p className="text-sm text-green-400 font-semibold">
                                        ‚ú® No Invite Code or iOS Needed - Use Sora 2 API Directly!
                                    </p>
                                </div>
                                <div className="flex space-x-6 text-gray-400">
                                    <a href="https://github.com/OlexiyPukhov/sora2-open-source" target="_blank" rel="noopener noreferrer" className="hover:text-white transition-colors">GitHub</a>
                                    <a href="https://platform.openai.com/docs/guides/video" target="_blank" rel="noopener noreferrer" className="hover:text-white transition-colors">API Docs</a>
                                    <a href="https://openai.com/policies/terms-of-use" target="_blank" rel="noopener noreferrer" className="hover:text-white transition-colors">Terms</a>
                                </div>
                            </div>
                        </div>
                    </footer>
                </div>
            );
        }

        // Render App
        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
